from fastapi import APIRouter

from ..auth.routes import auth_router
{% for model in models %}
from .{{ model.name.snake }}_router import {{ model.name.camel }}Router
{% endfor %}


class InnerRouter(APIRouter):
    def __init__(self, config):
        super().__init__()
        if not config:
            return
        self.include_router(auth_router)
        {% for model in models %}
        if config.{{ model.name.snake }}:
            self.include_router({{ model.name.camel }}Router(config.{{ model.name.snake }}))
        {% endfor %}


__all__ = [
    'InnerRouter',
]

